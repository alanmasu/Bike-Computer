<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Bike-Project: main.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Bike-Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">main.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>MSP432 UART - Loopback with 24MHz DCO BRCLK.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;ti/devices/msp432p4xx/driverlib/driverlib.h&gt;</code><br />
<code>#include &lt;ti/devices/msp432p4xx/driverlib/dma.h&gt;</code><br />
<code>#include &lt;ti/devices/msp432p4xx/inc/msp.h&gt;</code><br />
<code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a070d2ce7b6bb7e5c05602aa8c308d0c4" id="r_a070d2ce7b6bb7e5c05602aa8c308d0c4"><td class="memItemLeft" align="right" valign="top"><a id="a070d2ce7b6bb7e5c05602aa8c308d0c4" name="a070d2ce7b6bb7e5c05602aa8c308d0c4"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>NULL</b>&#160;&#160;&#160;(void*)0</td></tr>
<tr class="separator:a070d2ce7b6bb7e5c05602aa8c308d0c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a739a2a1a0047c98ac1b18ecd25dac092" id="r_a739a2a1a0047c98ac1b18ecd25dac092"><td class="memItemLeft" align="right" valign="top"><a id="a739a2a1a0047c98ac1b18ecd25dac092" name="a739a2a1a0047c98ac1b18ecd25dac092"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RX_BUFFER_SIZE</b>&#160;&#160;&#160;256</td></tr>
<tr class="separator:a739a2a1a0047c98ac1b18ecd25dac092"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a840291bc02cba5474a4cb46a9b9566fe" id="r_a840291bc02cba5474a4cb46a9b9566fe"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a840291bc02cba5474a4cb46a9b9566fe">main</a> (void)</td></tr>
<tr class="memdesc:a840291bc02cba5474a4cb46a9b9566fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Main function thats starts my tests.  <br /></td></tr>
<tr class="separator:a840291bc02cba5474a4cb46a9b9566fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2db538345499749ea158c96b0f4f8318" id="r_a2db538345499749ea158c96b0f4f8318"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2db538345499749ea158c96b0f4f8318">DMA_INT1_IRQHandler</a> (void)</td></tr>
<tr class="memdesc:a2db538345499749ea158c96b0f4f8318"><td class="mdescLeft">&#160;</td><td class="mdescRight">DMA completation interrupt handler.  <br /></td></tr>
<tr class="separator:a2db538345499749ea158c96b0f4f8318"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a428a3f6ad42b2c5727e262e8d33e1c56" id="r_a428a3f6ad42b2c5727e262e8d33e1c56"><td class="memItemLeft" align="right" valign="top"><a id="a428a3f6ad42b2c5727e262e8d33e1c56" name="a428a3f6ad42b2c5727e262e8d33e1c56"></a>
volatile uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>uartData</b> [RX_BUFFER_SIZE]</td></tr>
<tr class="separator:a428a3f6ad42b2c5727e262e8d33e1c56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39f4a5757801683c2262327235bf9398" id="r_a39f4a5757801683c2262327235bf9398"><td class="memItemLeft" align="right" valign="top"><a id="a39f4a5757801683c2262327235bf9398" name="a39f4a5757801683c2262327235bf9398"></a>
volatile bool&#160;</td><td class="memItemRight" valign="bottom"><b>stringEnd</b> = false</td></tr>
<tr class="memdesc:a39f4a5757801683c2262327235bf9398"><td class="mdescLeft">&#160;</td><td class="mdescRight">GPS UART RX buffer. <br /></td></tr>
<tr class="separator:a39f4a5757801683c2262327235bf9398"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad359190a2ebcf7279dc06e2c6e41aac6" id="r_ad359190a2ebcf7279dc06e2c6e41aac6"><td class="memItemLeft" align="right" valign="top">const eUSCI_UART_ConfigV1&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad359190a2ebcf7279dc06e2c6e41aac6">uartConfig</a></td></tr>
<tr class="memdesc:ad359190a2ebcf7279dc06e2c6e41aac6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag for end of string.  <br /></td></tr>
<tr class="separator:ad359190a2ebcf7279dc06e2c6e41aac6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb21e3a1124e978cf43b8a6870995ea4" id="r_abb21e3a1124e978cf43b8a6870995ea4"><td class="memItemLeft" align="right" valign="top">const eUSCI_UART_ConfigV1&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abb21e3a1124e978cf43b8a6870995ea4">pcUartConfig</a></td></tr>
<tr class="memdesc:abb21e3a1124e978cf43b8a6870995ea4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parameters for GPS UART initialization.  <br /></td></tr>
<tr class="separator:abb21e3a1124e978cf43b8a6870995ea4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>MSP432 UART - Loopback with 24MHz DCO BRCLK. </p>
<p>I'm testing UART connections and implementation using DriverLib This demo connects TX to ESP32 RX and RX to ESP32 TX, The example code shows proper initialization of registers and interrupts to receive and transmit data.</p>
<p>ESP32 is programmed for printing numbers from 0 to 255 when it receives 's' character and echo on the USB Virtual COM all packets that's receives back</p>
<p>MCLK = HSMCLK = SMCLK = DCO of 24MHz </p><pre class="fragment">         MSP432P401
       -----------------
      |                 |
 RST -|     P3.3/UCA0TXD|----&gt; GPS_L80 RX at 9600 8N1
      |                 |
     -|                 |
      |     P3.2/UCA0RXD|----&lt; GPS_L80 TX at 9600 8N1
      |                 |
      |             P1.0|---&gt; LED
      |                 |
</pre> <dl class="section version"><dt>Version</dt><dd>1.0 </dd></dl>
<dl class="section date"><dt>Date</dt><dd>03/01/2024 </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a2db538345499749ea158c96b0f4f8318" name="a2db538345499749ea158c96b0f4f8318"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2db538345499749ea158c96b0f4f8318">&#9670;&#160;</a></span>DMA_INT1_IRQHandler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DMA_INT1_IRQHandler </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>DMA completation interrupt handler. </p>
<p>This function is called when DMA transfer is completed so it wakes up the CPU for processing the data by setting the stringEnd flag </p>

</div>
</div>
<a id="a840291bc02cba5474a4cb46a9b9566fe" name="a840291bc02cba5474a4cb46a9b9566fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a840291bc02cba5474a4cb46a9b9566fe">&#9670;&#160;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Main function thats starts my tests. </p>
<p>This function initializes:</p><ul>
<li>The DC0 module at 24MHz</li>
<li>The UART modules</li>
<li>The DMA module</li>
<li>The GPIO pins. </li>
</ul>
<p>Set DMA chennel for EUSCI_A2 RX Set DMA chennel for EUSCI_A2 RX to use Primary DMA Mode sets also:</p><ul>
<li>8bit data size</li>
<li>source address increment is none, (source is fixed)</li>
<li>destination address increment is 8bit (destination is incremented by 1)</li>
<li>arbitration size is 1 (one transfer per request)</li>
</ul>
<p>Set DMA chennel transfer parameters for EUSCI_A2 RX Set DMA chennel for EUSCI_A2 RX to use Primary DMA Mode sets also:</p><ul>
<li>Basic transfer mode</li>
<li>Source address</li>
<li>Destination address</li>
<li>Transfer size</li>
</ul>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="abb21e3a1124e978cf43b8a6870995ea4" name="abb21e3a1124e978cf43b8a6870995ea4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb21e3a1124e978cf43b8a6870995ea4">&#9670;&#160;</a></span>pcUartConfig</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const eUSCI_UART_ConfigV1 pcUartConfig</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">        EUSCI_A_UART_CLOCKSOURCE_SMCLK,             </div>
<div class="line">        13,                                         </div>
<div class="line">        0,                                          </div>
<div class="line">        37,                                         </div>
<div class="line">        EUSCI_A_UART_NO_PARITY,                     </div>
<div class="line">        EUSCI_A_UART_LSB_FIRST,                     </div>
<div class="line">        EUSCI_A_UART_ONE_STOP_BIT,                  </div>
<div class="line">        EUSCI_A_UART_MODE,                          </div>
<div class="line">        EUSCI_A_UART_OVERSAMPLING_BAUDRATE_GENERATION,  </div>
<div class="line">        EUSCI_A_UART_8_BIT_LEN                      </div>
<div class="line">}</div>
</div><!-- fragment -->
<p>Parameters for GPS UART initialization. </p>
<p>These are the configuration parameters to make the eUSCI A UART module to operate with a 115200 baud rate whit ClockSource of 24MHz. These values were calculated using the online calculator that TI provides at: <a href="http://software-dl.ti.com/msp430/msp430_public_sw/mcu/msp430/MSP430BaudRateConverter/index.html">http://software-dl.ti.com/msp430/msp430_public_sw/mcu/msp430/MSP430BaudRateConverter/index.html</a> </p>

</div>
</div>
<a id="ad359190a2ebcf7279dc06e2c6e41aac6" name="ad359190a2ebcf7279dc06e2c6e41aac6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad359190a2ebcf7279dc06e2c6e41aac6">&#9670;&#160;</a></span>uartConfig</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const eUSCI_UART_ConfigV1 uartConfig</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">        EUSCI_A_UART_CLOCKSOURCE_SMCLK,             </div>
<div class="line">        156,                                        </div>
<div class="line">        4,                                          </div>
<div class="line">        0,                                          </div>
<div class="line">        EUSCI_A_UART_NO_PARITY,                     </div>
<div class="line">        EUSCI_A_UART_LSB_FIRST,                     </div>
<div class="line">        EUSCI_A_UART_ONE_STOP_BIT,                  </div>
<div class="line">        EUSCI_A_UART_MODE,                          </div>
<div class="line">        EUSCI_A_UART_OVERSAMPLING_BAUDRATE_GENERATION,  </div>
<div class="line">        EUSCI_A_UART_8_BIT_LEN                      </div>
<div class="line">}</div>
</div><!-- fragment -->
<p>Flag for end of string. </p>
<p>Parameters for PC UART initialization</p>
<p>These are the configuration parameters to make the eUSCI A UART module to operate with a 9600 baud rate whit ClockSource of 24MHz. These values were calculated using the online calculator that TI provides at: <a href="http://software-dl.ti.com/msp430/msp430_public_sw/mcu/msp430/MSP430BaudRateConverter/index.html">http://software-dl.ti.com/msp430/msp430_public_sw/mcu/msp430/MSP430BaudRateConverter/index.html</a> </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
